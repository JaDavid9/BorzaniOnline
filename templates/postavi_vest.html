<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Postavite Vest</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
   
</head>
<body>
    <div class="container">
        <h1>Postavite novu vest</h1>
        <form action="{{ url_for('postavi_vest') }}" method="POST" enctype="multipart/form-data">
            <label for="naslov">Naslov:</label>
            <input type="text" id="naslov" name="naslov" required>
        
            <br> <label for="sadrzaj">Sadržaj:</label> </br>
            <textarea id="sadrzaj" name="sadrzaj" required></textarea>
        
           <br> <label for="slike">Slike:</label> </br>
            <br> <div id="image-fields">
                <input type="file" name="slike" accept="image/*">
            </div> </br>
            <button type="button" onclick="addImageField()">Dodaj još sliku</button>
        
            <br> <label for="video">Video:</label> </br>
            <br> <div id="video-fields">
                <input type="file" name="video" accept="video/*">
            </div> </br>
            <br> <button type="button" onclick="addVideoField()">Dodaj još video</button> </br> 
        
            <br> <label for="datum-vreme">Datum i vreme objave:</label> </br>
            <br> <input type="datetime-local" id="datum-vreme" name="datum_vreme" required> </br>
        
            <br> <label for="target_pages">Izbor stranica:</label><br> </br> 
            <input type="checkbox" name="target_pages" value="Naslovna">
            <label for="naslovna">Naslovna</label><br>

            <input type="checkbox" name="target_pages" value="Vesti">
            <label for="vesti">Vesti</label><br>

            <input type="checkbox" name="target_pages" value="Najnovije">
            <label for="najnovije">Najnovije</label><br>

            <input type="checkbox" name="target_pages" value="Lokalne vesti">
            <label for="lokalne_vesti">Lokalne vesti</label><br>

            <input type="checkbox" name="target_pages" value="Sport">
            <label for="sport">Sport</label><br>

            <input type="checkbox" name="target_pages" value="Vremenska prognoza">
            <label for="vremenska_prognoza">Vremenska Prognoza</label><br>
        
            <br> <button type="submit">Postavi vest</button> </br> 
        </form>
        
        <script>
            function addImageField() {
                const container = document.getElementById('image-fields');
                const newField = document.createElement('input');
                newField.type = 'file';
                newField.name = 'slike';
                newField.accept = 'image/*';
                container.appendChild(newField);
            }
        
            function addVideoField() {
                const container = document.getElementById('video-fields');
                const newField = document.createElement('input');
                newField.type = 'file';
                newField.name = 'video';
                newField.accept = 'video/*';
                container.appendChild(newField);
            }
        
            document.querySelector('form').addEventListener('submit', function (e) {
                const checkboxes = document.querySelectorAll('input[name="target_pages"]:checked');
                if (checkboxes.length === 0) {
                    e.preventDefault();
                    alert('Morate izabrati barem jednu stranicu!');
                }
            });
        </script>
    </div>
</body>
</html>